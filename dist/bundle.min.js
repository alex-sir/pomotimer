let countdown;const timer=document.querySelector("#timer");let timerStarted=!1;const play=document.querySelector("#play"),pause=document.querySelector("#pause"),stop=document.querySelector("#stop"),reset=document.querySelector("#reset"),arrow=document.querySelectorAll(".arrow"),pomodoros=document.querySelectorAll(".pomodoro");let pomodorosCount=0;const sessionTitle=document.querySelector(".session-title h3"),increaseSession=document.querySelector("#increase-session"),sessionMinutes=document.querySelector("#session-minutes");let sessionSeconds=60*parseInt(sessionMinutes.textContent);const breakTitle=document.querySelector(".break-title h3"),decreaseSession=document.querySelector("#decrease-session"),increaseBreak=document.querySelector("#increase-break"),breakMinutes=document.querySelector("#break-minutes"),decreaseBreak=document.querySelector("#decrease-break");let customThemeSwitch=!0,autoStart=document.querySelector("#auto-start"),breakSelected=!1,sessionTimeSelected=!0,breakTimeSelected=!1,longBreak=15;function timerDisplay(e,t=!0,o){function s(){timerStarted||(timerStarted=!0),breakSelected&&4!==pomodorosCount&&!timerStarted&&(sessionSeconds=60*breakMinutes.textContent),e=sessionSeconds,clearInterval(countdown),autoStart.disabled=!0,play.disabled=!0,pause.disabled=!1,stop.disabled=!1,arrow.forEach(e=>{e.disabled=!0});const o=Date.now()+1e3*e;displayTimeLeft(e),countdown=setInterval(()=>{const e=Math.round((o-Date.now())/1e3);sessionSeconds-=1,e<1&&(clearInterval(countdown),autoStart.checked&&(currentActive=titleBorderChange(),4===pomodorosCount?(breakSelected=!1,pomodorosCount=0,pomodoros.forEach(e=>{customThemeActive?e.setAttribute("style",`background-color: ${customValueBody}; border-color: ${customValueContent};`):e.classList.remove(`${currentActive.split("-")[0]}-background`)}),timerDisplay(sessionSeconds=60*parseInt(sessionMinutes.textContent),!0,!0),play.disabled=!1,play.click()):t?(breakSelected=!0,pomodorosCount++,customThemeActive?pomodoros[pomodorosCount-1].setAttribute("style",`background-color: ${customValueContent}; border-color: ${customValueContent};`):pomodoros[pomodorosCount-1].classList.add(`${currentActive.split("-")[0]}-background`),timerDisplay(sessionSeconds=4===pomodorosCount?Math.min(60*longBreak,6e3):60*parseInt(breakMinutes.textContent),!1,!0),play.disabled=!1,play.click()):(breakSelected=!1,timerDisplay(sessionSeconds=60*parseInt(sessionMinutes.textContent),!0,!0),play.disabled=!1,play.click()))),displayTimeLeft(e)},1e3)}if(o)return s;document.addEventListener("keydown",e=>{if(32===e.keyCode){if(e.repeat)return;pause.disabled?s():pauseTimer(pause,!1)()}}),play.addEventListener("click",s)}function sessionBreakSelect(e,t){function o(){timerStarted&&stopTimerHard(stop,sessionSeconds),breakSelected=!1,displayTimeLeft(sessionSeconds=60*parseInt(sessionMinutes.textContent),!1),timerDisplay(sessionSeconds,!0,!0),sessionTimeSelected||breakTimeSelected&&(breakTimeSelected=!1,sessionTimeSelected=!0,titleBorderChange())}function s(){timerStarted&&stopTimerHard(stop,sessionSeconds),breakSelected=!0,displayTimeLeft(sessionSeconds=60*parseInt(breakMinutes.textContent),!1),timerDisplay(sessionSeconds,!1,!0),breakTimeSelected||sessionTimeSelected&&(breakTimeSelected=!0,sessionTimeSelected=!1,titleBorderChange())}document.addEventListener("keydown",e=>{if(e.shiftKey&&80===e.keyCode){if(e.repeat)return;o()}}),e.addEventListener("click",o),document.addEventListener("keydown",e=>{if(e.shiftKey&&66===e.keyCode){if(e.repeat)return;s()}}),t.addEventListener("click",s)}function titleBorderChange(){let e;return customThemeActive?(sessionTitle.classList="",breakTitle.classList="",customThemeSwitch?(customThemeSwitch=!1,sessionTitle.style.background="",sessionTitle.style.backgroundSize="",sessionTitle.style.backgroundPosition="",breakTitle.style.background=`linear-gradient(to right, ${customValueContent}, ${customValueContent}) no-repeat`,breakTitle.style.backgroundSize="var(--pomodoro-size)",breakTitle.style.backgroundPosition="var(--pomodoro-position)"):(customThemeSwitch=!0,breakTitle.style.background="",breakTitle.style.backgroundSize="",breakTitle.style.backgroundPosition="",sessionTitle.style.background=`linear-gradient(to right, ${customValueContent}, ${customValueContent}) no-repeat`,sessionTitle.style.backgroundSize="var(--pomodoro-size)",sessionTitle.style.backgroundPosition="var(--pomodoro-position)")):(e=sessionTitle.classList.length>=1?sessionTitle.classList[sessionTitle.classList.length-1]:breakTitle.classList[breakTitle.classList.length-1],breakTitle.classList.toggle(e),sessionTitle.classList.toggle(e)),e}function timerSession(e,t,o,s=!0){function r(e=!1){parseInt(t.textContent)>=6e3||!s&&!breakSelected&&e||s&&breakSelected&&e||(t.textContent=parseInt(t.textContent)+1,s?(breakSelected||displayTimeLeft(60*parseInt(t.textContent),!1),sessionSeconds+=60):breakSelected&&(displayTimeLeft(60*parseInt(t.textContent),!1),sessionSeconds+=60),longBreak=3*parseInt(breakMinutes.textContent))}function n(e=!1){parseInt(t.textContent)<=1||!s&&!breakSelected&&e||s&&breakSelected&&e||(t.textContent=parseInt(t.textContent)-1,s?(breakSelected||displayTimeLeft(60*parseInt(t.textContent),!1),sessionSeconds-=60):breakSelected&&(displayTimeLeft(60*parseInt(t.textContent),!1),sessionSeconds-=60),longBreak=3*parseInt(breakMinutes.textContent))}e.addEventListener("click",()=>{r(!1)}),document.addEventListener("keydown",e=>{e.shiftKey&&38===e.keyCode&&!timerStarted&&r(!0)}),o.addEventListener("click",()=>{n(!1)}),document.addEventListener("keydown",e=>{e.shiftKey&&40===e.keyCode&&!timerStarted&&n(!0)})}function displayTimeLeft(e,t=!0){let o=Math.floor(e/60);const s=e%60;let r;if(o>=60){const e=Math.floor(o/60);o%=60,r=`${e<10?e.toString().padStart(2,0):e}:${o<10?o.toString().padStart(2,0):o}:${s<10?s.toString().padStart(2,0):s}`}else r=`${o<10?o.toString().padStart(2,0):o}:${s<10?s.toString().padStart(2,0):s}`;timer.textContent=r,t&&(document.title=`(${r}) Pomodoro`)}function pauseTimer(e,t){function o(){clearInterval(countdown),sessionTitle.classList>=1?timerDisplay(0,!0,!0):timerDisplay(0,!1,!0),e.disabled=!0,play.disabled=!1}if(!t)return o;e.disabled=!0,e.addEventListener("click",o)}function breakSessionTitleReset(){breakTitle.classList.length>=1?(sessionTitle.classList.add(breakTitle.classList[breakTitle.classList.length-1]),breakTitle.classList=""):customThemeActive&&(sessionTitle.style.background=`linear-gradient(to right, ${customValueContent}, ${customValueContent}) no-repeat`,sessionTitle.style.backgroundSize="var(--pomodoro-size)",sessionTitle.style.backgroundPosition="var(--pomodoro-position)",breakTitle.style.background="",customThemeSwitch=!0)}function stopTimer(e,t){function o(){t=breakSelected&&4!==pomodorosCount?60*parseInt(breakMinutes.textContent):4===pomodorosCount?longBreak:60*parseInt(sessionMinutes.textContent),timerStarted=!1,sessionSeconds=t,clearInterval(countdown),displayTimeLeft(t),e.disabled=!0,pause.disabled=!0,play.disabled=!1,autoStart.disabled=!1,arrow.forEach(e=>{e.disabled=!1}),document.title="Pomodoro",timerDisplay(t,!breakSelected,!0)}e.disabled=!0,document.addEventListener("keydown",e=>{if(e.shiftKey&&83===e.keyCode){if(e.repeat)return;o()}}),e.addEventListener("click",o)}function stopTimerHard(e,t){parseInt(sessionMinutes.textContent),timerStarted=!1,t=60*parseInt(sessionMinutes.textContent),sessionSeconds=t,clearInterval(countdown),displayTimeLeft(t),breakSessionTitleReset(),resetPomodoros(pomodoros),pomodorosCount=0,breakSelected=!1,sessionTimeSelected=!0,breakTimeSelected=!1,e.disabled=!0,pause.disabled=!0,play.disabled=!1,autoStart.disabled=!1,arrow.forEach(e=>{e.disabled=!1}),document.title="Pomodoro",timerDisplay(t,!0,!0)}function resetPomodoros(e){e.forEach(e=>{if(customThemeActive)e.classList="",e.classList.add("pomodoro"),e.style.backgroundColor="";else{const t=e.classList[1];e.classList="",e.classList.add("pomodoro",t)}})}function resetTimer(e){function t(){timerStarted=!1,clearInterval(countdown),timer.textContent="25:00",sessionMinutes.textContent="25",breakSessionTitleReset(),breakSelected=!1,sessionTimeSelected=!0,breakTimeSelected=!1,resetPomodoros(pomodoros),pomodorosCount=0,sessionSeconds=60*parseInt(sessionMinutes.textContent),breakMinutes.textContent="5",longBreak=15,arrow.forEach(e=>{e.disabled=!1}),play.disabled=!1,autoStart.disabled=!1,document.title="Pomodoro",timerDisplay(60*parseInt(timer.textContent.split(":")[0]),!0,!0)}document.addEventListener("keydown",e=>{if(e.shiftKey&&82===e.keyCode){if(e.repeat)return;t()}}),e.addEventListener("click",t)}function mainTimer(){timerDisplay(sessionSeconds,!0,!1),timerSession(increaseSession,sessionMinutes,decreaseSession,!0),timerSession(increaseBreak,breakMinutes,decreaseBreak,!1),sessionBreakSelect(sessionTitle,breakTitle),pauseTimer(pause,!0),stopTimer(stop,sessionSeconds),resetTimer(reset)}window.onload=mainTimer();const modalSettings=document.querySelector("#simple-modal-settings"),modalAbout=document.querySelector("#simple-modal-about"),modalBtnSettings=document.querySelector("#modal-btn-settings"),modalBtnAbout=document.querySelector("#modal-btn-about"),closeBtnSettings=document.querySelector("#close-btn-settings"),closeBtnAbout=document.querySelector("#close-btn-about"),settings=document.querySelector(".settings"),about=document.querySelector(".about");function modalDisplaySettings(e,t,o,s){t.addEventListener("click",()=>{e.style.visibility="visible",e.style.opacity="1",s.style.transform="rotate(90deg)",body.style.overflow="hidden",s.blur()}),o.addEventListener("click",()=>{hideModalSettings(e,s)}),window.addEventListener("click",function(t){t.target===e&&hideModalSettings(e,s)})}function hideModalSettings(e,t){e.style.opacity="0",setTimeout(()=>{e.style.visibility="hidden"},300),t.style.transform="rotate(0deg)",body.style.overflow="auto"}function modalDisplayAbout(e,t,o,s){t.addEventListener("click",()=>{e.style.visibility="visible",e.style.opacity="1",body.style.overflow="hidden",s.blur()}),o.addEventListener("click",()=>{hideModalAbout(e)}),window.addEventListener("click",function(t){t.target===e&&hideModalAbout(e)})}function hideModalAbout(e){e.style.opacity="0",setTimeout(()=>{e.style.visibility="hidden"},300),body.style.overflow="auto"}function mainModal(){modalDisplaySettings(modalSettings,modalBtnSettings,closeBtnSettings,settings),modalDisplayAbout(modalAbout,modalBtnAbout,closeBtnAbout,about)}window.onload=mainModal(),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jquery")):e(jQuery)}(function(e,t){"use strict";var o={beforeShow:d,move:d,change:d,show:d,hide:d,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},s=[],r=!!/msie/i.exec(window.navigator.userAgent),n=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div").style;return t.cssText="background-color:rgba(0,0,0,.5)",e(t.backgroundColor,"rgba")||e(t.backgroundColor,"hsla")}(),i=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),a=function(){var e="";if(r)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function l(t,o,s,r){for(var i=[],a=0;a<t.length;a++){var l=t[a];if(l){var c=tinycolor(l),d=c.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";d+=tinycolor.equals(o,l)?" sp-thumb-active":"";var u=c.toString(r.preferredFormat||"rgb"),h=n?"background-color:"+c.toRgbString():"filter:"+c.toFilter();i.push('<span title="'+u+'" data-color="'+c.toRgbString()+'" class="'+d+'"><span class="sp-thumb-inner" style="'+h+';" /></span>')}else{i.push(e("<div />").append(e('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+s+"'>"+i.join("")+"</div>"}function c(c,d){var m,g,b,y,v=function(t,s){var r=e.extend({},o,t);return r.callbacks={move:h(r.move,s),change:h(r.change,s),show:h(r.show,s),hide:h(r.hide,s),beforeShow:h(r.beforeShow,s)},r}(d,c),k=v.flat,S=v.showSelectionPalette,w=v.localStorageKey,T=v.theme,C=v.callbacks,x=(m=Ne,g=10,function(){var e=this,t=arguments;b&&clearTimeout(y),!b&&y||(y=setTimeout(function(){y=null,m.apply(e,t)},g))}),_=!1,L=!1,A=0,M=0,P=0,E=0,q=0,R=0,B=0,I=0,$=0,H=0,F=1,D=[],O=[],V={},z=v.selectionPalette.slice(0),N=v.maxSelectionSize,j="sp-dragging",K=null,W=c.ownerDocument,X=(W.body,e(c)),Y=!1,G=e(a,W).addClass(T),Q=G.find(".sp-picker-container"),J=G.find(".sp-color"),U=G.find(".sp-dragger"),Z=G.find(".sp-hue"),ee=G.find(".sp-slider"),te=G.find(".sp-alpha-inner"),oe=G.find(".sp-alpha"),se=G.find(".sp-alpha-handle"),re=G.find(".sp-input"),ne=G.find(".sp-palette"),ie=G.find(".sp-initial"),ae=G.find(".sp-cancel"),le=G.find(".sp-clear"),ce=G.find(".sp-choose"),de=G.find(".sp-palette-toggle"),ue=X.is("input"),he=ue&&"color"===X.attr("type")&&p(),fe=ue&&!k,pe=fe?e(i).addClass(T).addClass(v.className).addClass(v.replacerClassName):e([]),me=fe?pe:X,ge=pe.find(".sp-preview-inner"),be=v.color||ue&&X.val(),ye=!1,ve=v.preferredFormat,ke=!v.showButtons||v.clickoutFiresChange,Se=!be,we=v.allowEmpty&&!he;function Te(){if(v.showPaletteOnly&&(v.showPalette=!0),de.text(v.showPaletteOnly?v.togglePaletteMoreText:v.togglePaletteLessText),v.palette){D=v.palette.slice(0),O=e.isArray(D[0])?D:[D],V={};for(var t=0;t<O.length;t++)for(var o=0;o<O[t].length;o++){var s=tinycolor(O[t][o]).toRgbString();V[s]=!0}}G.toggleClass("sp-flat",k),G.toggleClass("sp-input-disabled",!v.showInput),G.toggleClass("sp-alpha-enabled",v.showAlpha),G.toggleClass("sp-clear-enabled",we),G.toggleClass("sp-buttons-disabled",!v.showButtons),G.toggleClass("sp-palette-buttons-disabled",!v.togglePaletteOnly),G.toggleClass("sp-palette-disabled",!v.showPalette),G.toggleClass("sp-palette-only",v.showPaletteOnly),G.toggleClass("sp-initial-disabled",!v.showInitial),G.addClass(v.className).addClass(v.containerClassName),Ne()}function Ce(){if(w&&window.localStorage){try{var t=window.localStorage[w].split(",#");t.length>1&&(delete window.localStorage[w],e.each(t,function(e,t){xe(t)}))}catch(e){}try{z=window.localStorage[w].split(";")}catch(e){}}}function xe(t){if(S){var o=tinycolor(t).toRgbString();if(!V[o]&&-1===e.inArray(o,z))for(z.push(o);z.length>N;)z.shift();if(w&&window.localStorage)try{window.localStorage[w]=z.join(";")}catch(e){}}}function _e(){var t=Fe(),o=e.map(O,function(e,o){return l(e,t,"sp-palette-row sp-palette-row-"+o,v)});Ce(),z&&o.push(l(function(){var e=[];if(v.showPalette)for(var t=0;t<z.length;t++){var o=tinycolor(z[t]).toRgbString();V[o]||e.push(z[t])}return e.reverse().slice(0,v.maxSelectionSize)}(),t,"sp-palette-row sp-palette-row-selection",v)),ne.html(o.join(""))}function Le(){if(v.showInitial){var e=ye,t=Fe();ie.html(l([e,t],t,"sp-palette-row-initial",v))}}function Ae(){(M<=0||A<=0||E<=0)&&Ne(),L=!0,G.addClass(j),K=null,X.trigger("dragstart.spectrum",[Fe()])}function Me(){L=!1,G.removeClass(j),X.trigger("dragstop.spectrum",[Fe()])}function Pe(){var e=re.val();if(null!==e&&""!==e||!we){var t=tinycolor(e);t.isValid()?(He(t),ze(!0)):re.addClass("sp-validation-error")}else He(null),ze(!0)}function Ee(){_?Ie():qe()}function qe(){var t=e.Event("beforeShow.spectrum");_?Ne():(X.trigger(t,[Fe()]),!1===C.beforeShow(Fe())||t.isDefaultPrevented()||(!function(){for(var e=0;e<s.length;e++)s[e]&&s[e].hide()}(),_=!0,e(W).bind("keydown.spectrum",Re),e(W).bind("click.spectrum",Be),e(window).bind("resize.spectrum",x),pe.addClass("sp-active"),G.removeClass("sp-hidden"),Ne(),Oe(),ye=Fe(),Le(),C.show(ye),X.trigger("show.spectrum",[ye])))}function Re(e){27===e.keyCode&&Ie()}function Be(e){2!=e.button&&(L||(ke?ze(!0):$e(),Ie()))}function Ie(){_&&!k&&(_=!1,e(W).unbind("keydown.spectrum",Re),e(W).unbind("click.spectrum",Be),e(window).unbind("resize.spectrum",x),pe.removeClass("sp-active"),G.addClass("sp-hidden"),C.hide(Fe()),X.trigger("hide.spectrum",[Fe()]))}function $e(){He(ye,!0)}function He(e,t){var o,s;tinycolor.equals(e,Fe())?Oe():(!e&&we?Se=!0:(Se=!1,s=(o=tinycolor(e)).toHsv(),I=s.h%360/360,$=s.s,H=s.v,F=s.a),Oe(),o&&o.isValid()&&!t&&(ve=v.preferredFormat||o.getFormat()))}function Fe(e){return e=e||{},we&&Se?null:tinycolor.fromRatio({h:I,s:$,v:H,a:Math.round(100*F)/100},{format:e.format||ve})}function De(){Oe(),C.move(Fe()),X.trigger("move.spectrum",[Fe()])}function Oe(){re.removeClass("sp-validation-error"),Ve();var e=tinycolor.fromRatio({h:I,s:1,v:1});J.css("background-color",e.toHexString());var t=ve;F<1&&(0!==F||"name"!==t)&&("hex"!==t&&"hex3"!==t&&"hex6"!==t&&"name"!==t||(t="rgb"));var o=Fe({format:t}),s="";if(ge.removeClass("sp-clear-display"),ge.css("background-color","transparent"),!o&&we)ge.addClass("sp-clear-display");else{var i=o.toHexString(),a=o.toRgbString();if(n||1===o.alpha?ge.css("background-color",a):(ge.css("background-color","transparent"),ge.css("filter",o.toFilter())),v.showAlpha){var l=o.toRgb();l.a=0;var c=tinycolor(l).toRgbString(),d="linear-gradient(left, "+c+", "+i+")";r?te.css("filter",tinycolor(c).toFilter({gradientType:1},i)):(te.css("background","-webkit-"+d),te.css("background","-moz-"+d),te.css("background","-ms-"+d),te.css("background","linear-gradient(to right, "+c+", "+i+")"))}s=o.toString(t)}v.showInput&&re.val(s),v.showPalette&&_e(),Le()}function Ve(){var e=$,t=H;if(we&&Se)se.hide(),ee.hide(),U.hide();else{se.show(),ee.show(),U.show();var o=e*A,s=M-t*M;o=Math.max(-P,Math.min(A-P,o-P)),s=Math.max(-P,Math.min(M-P,s-P)),U.css({top:s+"px",left:o+"px"});var r=F*q;se.css({left:r-R/2+"px"});var n=I*E;ee.css({top:n-B+"px"})}}function ze(e){var t=Fe(),o="",s=!tinycolor.equals(t,ye);t&&(o=t.toString(ve),xe(t)),ue&&X.val(o),e&&s&&(C.change(t),X.trigger("change",[t]))}function Ne(){var t,o,s,r,n,i,a,l,c,d;_&&(A=J.width(),M=J.height(),P=U.height(),Z.width(),E=Z.height(),B=ee.height(),q=oe.width(),R=se.width(),k||(G.css("position","absolute"),v.offset?G.offset(v.offset):G.offset((o=me,s=(t=G).outerWidth(),r=t.outerHeight(),n=o.outerHeight(),i=t[0].ownerDocument,a=i.documentElement,l=a.clientWidth+e(i).scrollLeft(),c=a.clientHeight+e(i).scrollTop(),(d=o.offset()).top+=n,d.left-=Math.min(d.left,d.left+s>l&&l>s?Math.abs(d.left+s-l):0),d.top-=Math.min(d.top,d.top+r>c&&c>r?Math.abs(r+n-0):0),d))),Ve(),v.showPalette&&_e(),X.trigger("reflow.spectrum"))}function je(){Ie(),Y=!0,X.attr("disabled",!0),me.addClass("sp-disabled")}!function(){if(r&&G.find("*:not(input)").attr("unselectable","on"),Te(),fe&&X.after(pe).hide(),we||le.hide(),k)X.after(G).hide();else{var t="parent"===v.appendTo?X.parent():e(v.appendTo);1!==t.length&&(t=e("body")),t.append(G)}function o(t){return t.data&&t.data.ignore?(He(e(t.target).closest(".sp-thumb-el").data("color")),De()):(He(e(t.target).closest(".sp-thumb-el").data("color")),De(),ze(!0),v.hideAfterPaletteSelect&&Ie()),!1}Ce(),me.bind("click.spectrum touchstart.spectrum",function(t){Y||Ee(),t.stopPropagation(),e(t.target).is("input")||t.preventDefault()}),(X.is(":disabled")||!0===v.disabled)&&je(),G.click(u),re.change(Pe),re.bind("paste",function(){setTimeout(Pe,1)}),re.keydown(function(e){13==e.keyCode&&Pe()}),ae.text(v.cancelText),ae.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),$e(),Ie()}),le.attr("title",v.clearText),le.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),Se=!0,De(),k&&ze(!0)}),ce.text(v.chooseText),ce.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),r&&re.is(":focus")&&re.trigger("change"),re.hasClass("sp-validation-error")||(ze(!0),Ie())}),de.text(v.showPaletteOnly?v.togglePaletteMoreText:v.togglePaletteLessText),de.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),v.showPaletteOnly=!v.showPaletteOnly,v.showPaletteOnly||k||G.css("left","-="+(Q.outerWidth(!0)+5)),Te()}),f(oe,function(e,t,o){F=e/q,Se=!1,o.shiftKey&&(F=Math.round(10*F)/10),De()},Ae,Me),f(Z,function(e,t){I=parseFloat(t/E),Se=!1,v.showAlpha||(F=1),De()},Ae,Me),f(J,function(e,t,o){if(o.shiftKey){if(!K){var s=$*A,r=M-H*M,n=Math.abs(e-s)>Math.abs(t-r);K=n?"x":"y"}}else K=null;var i=!K||"y"===K;(!K||"x"===K)&&($=parseFloat(e/A)),i&&(H=parseFloat((M-t)/M)),Se=!1,v.showAlpha||(F=1),De()},Ae,Me),be?(He(be),Oe(),ve=v.preferredFormat||tinycolor(be).format,xe(be)):Oe(),k&&qe();var s=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ne.delegate(".sp-thumb-el",s,o),ie.delegate(".sp-thumb-el:nth-child(1)",s,{ignore:!0},o)}();var Ke={show:qe,hide:Ie,toggle:Ee,reflow:Ne,option:function(o,s){return o===t?e.extend({},v):s===t?v[o]:(v[o]=s,"preferredFormat"===o&&(ve=v.preferredFormat),void Te())},enable:function(){Y=!1,X.attr("disabled",!1),me.removeClass("sp-disabled")},disable:je,offset:function(e){v.offset=e,Ne()},set:function(e){He(e),ze()},get:Fe,destroy:function(){X.show(),me.unbind("click.spectrum touchstart.spectrum"),G.remove(),pe.remove(),s[Ke.id]=null},container:G};return Ke.id=s.push(Ke)-1,Ke}function d(){}function u(e){e.stopPropagation()}function h(e,t){var o=Array.prototype.slice,s=o.call(arguments,2);return function(){return e.apply(t,s.concat(o.call(arguments)))}}function f(t,o,s,n){o=o||function(){},s=s||function(){},n=n||function(){};var i=document,a=!1,l={},c=0,d=0,u="ontouchstart"in window,h={};function f(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function p(e){if(a){if(r&&i.documentMode<9&&!e.button)return m();var s=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0],n=s&&s.pageX||e.pageX,h=s&&s.pageY||e.pageY,p=Math.max(0,Math.min(n-l.left,d)),g=Math.max(0,Math.min(h-l.top,c));u&&f(e),o.apply(t,[p,g,e])}}function m(){a&&(e(i).unbind(h),e(i.body).removeClass("sp-dragging"),setTimeout(function(){n.apply(t,arguments)},0)),a=!1}h.selectstart=f,h.dragstart=f,h["touchmove mousemove"]=p,h["touchend mouseup"]=m,e(t).bind("touchstart mousedown",function(o){(o.which?3==o.which:2==o.button)||a||!1!==s.apply(t,arguments)&&(a=!0,c=e(t).height(),d=e(t).width(),l=e(t).offset(),e(i).bind(h),e(i.body).addClass("sp-dragging"),p(o),f(o))})}function p(){return e.fn.spectrum.inputTypeColorSupport()}e.fn.spectrum=function(t,o){if("string"==typeof t){var r=this,n=Array.prototype.slice.call(arguments,1);return this.each(function(){var o=s[e(this).data("spectrum.id")];if(o){var i=o[t];if(!i)throw new Error("Spectrum: no such method: '"+t+"'");"get"==t?r=o.get():"container"==t?r=o.container:"option"==t?r=o.option.apply(o,n):"destroy"==t?(o.destroy(),e(this).removeData("spectrum.id")):i.apply(o,n)}}),r}return this.spectrum("destroy").each(function(){var o=c(this,e.extend({},t,e(this).data()));e(this).data("spectrum.id",o.id)})},e.fn.spectrum.load=!0,e.fn.spectrum.loadOpts={},e.fn.spectrum.draggable=f,e.fn.spectrum.defaults=o,e.fn.spectrum.inputTypeColorSupport=function t(){if(void 0===t._cachedResult){var o=e("<input type='color'/>")[0];t._cachedResult="color"===o.type&&""!==o.value}return t._cachedResult},e.spectrum={},e.spectrum.localization={},e.spectrum.palettes={},e.fn.spectrum.processNativeColorInputs=function(){var t=e("input[type=color]");t.length&&!p()&&t.spectrum({preferredFormat:"hex6"})},function(){var e=/^[\s,#]+/,t=/\s+$/,o=0,s=Math,r=s.round,n=s.min,i=s.max,a=s.random,l=function(a,c){if(c=c||{},(a=a||"")instanceof l)return a;if(!(this instanceof l))return new l(a,c);var d=function(o){var r={r:0,g:0,b:0},a=1,l=!1,c=!1;"string"==typeof o&&(o=function(o){o=o.replace(e,"").replace(t,"").toLowerCase();var s,r=!1;if(_[o])o=_[o],r=!0;else if("transparent"==o)return{r:0,g:0,b:0,a:0,format:"name"};if(s=H.rgb.exec(o))return{r:s[1],g:s[2],b:s[3]};if(s=H.rgba.exec(o))return{r:s[1],g:s[2],b:s[3],a:s[4]};if(s=H.hsl.exec(o))return{h:s[1],s:s[2],l:s[3]};if(s=H.hsla.exec(o))return{h:s[1],s:s[2],l:s[3],a:s[4]};if(s=H.hsv.exec(o))return{h:s[1],s:s[2],v:s[3]};if(s=H.hsva.exec(o))return{h:s[1],s:s[2],v:s[3],a:s[4]};if(s=H.hex8.exec(o))return{a:(n=s[1],E(n)/255),r:E(s[2]),g:E(s[3]),b:E(s[4]),format:r?"name":"hex8"};var n;if(s=H.hex6.exec(o))return{r:E(s[1]),g:E(s[2]),b:E(s[3]),format:r?"name":"hex"};if(s=H.hex3.exec(o))return{r:E(s[1]+""+s[1]),g:E(s[2]+""+s[2]),b:E(s[3]+""+s[3]),format:r?"name":"hex"};return!1}(o));"object"==typeof o&&(o.hasOwnProperty("r")&&o.hasOwnProperty("g")&&o.hasOwnProperty("b")?(d=o.r,u=o.g,h=o.b,r={r:255*M(d,255),g:255*M(u,255),b:255*M(h,255)},l=!0,c="%"===String(o.r).substr(-1)?"prgb":"rgb"):o.hasOwnProperty("h")&&o.hasOwnProperty("s")&&o.hasOwnProperty("v")?(o.s=R(o.s),o.v=R(o.v),r=function(e,t,o){e=6*M(e,360),t=M(t,100),o=M(o,100);var r=s.floor(e),n=e-r,i=o*(1-t),a=o*(1-n*t),l=o*(1-(1-n)*t),c=r%6;return{r:255*[o,a,i,i,l,o][c],g:255*[l,o,o,a,i,i][c],b:255*[i,i,l,o,o,a][c]}}(o.h,o.s,o.v),l=!0,c="hsv"):o.hasOwnProperty("h")&&o.hasOwnProperty("s")&&o.hasOwnProperty("l")&&(o.s=R(o.s),o.l=R(o.l),r=function(e,t,o){var s,r,n;function i(e,t,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?e+6*(t-e)*o:o<.5?t:o<2/3?e+(t-e)*(2/3-o)*6:e}if(e=M(e,360),t=M(t,100),o=M(o,100),0===t)s=r=n=o;else{var a=o<.5?o*(1+t):o+t-o*t,l=2*o-a;s=i(l,a,e+1/3),r=i(l,a,e),n=i(l,a,e-1/3)}return{r:255*s,g:255*r,b:255*n}}(o.h,o.s,o.l),l=!0,c="hsl"),o.hasOwnProperty("a")&&(a=o.a));var d,u,h;return a=A(a),{ok:l,format:o.format||c,r:n(255,i(r.r,0)),g:n(255,i(r.g,0)),b:n(255,i(r.b,0)),a:a}}(a);this._originalInput=a,this._r=d.r,this._g=d.g,this._b=d.b,this._a=d.a,this._roundA=r(100*this._a)/100,this._format=c.format||d.format,this._gradientType=c.gradientType,this._r<1&&(this._r=r(this._r)),this._g<1&&(this._g=r(this._g)),this._b<1&&(this._b=r(this._b)),this._ok=d.ok,this._tc_id=o++};function c(e,t,o){e=M(e,255),t=M(t,255),o=M(o,255);var s,r,a=i(e,t,o),l=n(e,t,o),c=(a+l)/2;if(a==l)s=r=0;else{var d=a-l;switch(r=c>.5?d/(2-a-l):d/(a+l),a){case e:s=(t-o)/d+(t<o?6:0);break;case t:s=(o-e)/d+2;break;case o:s=(e-t)/d+4}s/=6}return{h:s,s:r,l:c}}function d(e,t,o){e=M(e,255),t=M(t,255),o=M(o,255);var s,r,a=i(e,t,o),l=n(e,t,o),c=a,d=a-l;if(r=0===a?0:d/a,a==l)s=0;else{switch(a){case e:s=(t-o)/d+(t<o?6:0);break;case t:s=(o-e)/d+2;break;case o:s=(e-t)/d+4}s/=6}return{h:s,s:r,v:c}}function u(e,t,o,s){var n=[q(r(e).toString(16)),q(r(t).toString(16)),q(r(o).toString(16))];return s&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function h(e,t,o,s){var n;return[q((n=s,Math.round(255*parseFloat(n)).toString(16))),q(r(e).toString(16)),q(r(t).toString(16)),q(r(o).toString(16))].join("")}function f(e,t){t=0===t?0:t||10;var o=l(e).toHsl();return o.s-=t/100,o.s=P(o.s),l(o)}function p(e,t){t=0===t?0:t||10;var o=l(e).toHsl();return o.s+=t/100,o.s=P(o.s),l(o)}function m(e){return l(e).desaturate(100)}function g(e,t){t=0===t?0:t||10;var o=l(e).toHsl();return o.l+=t/100,o.l=P(o.l),l(o)}function b(e,t){t=0===t?0:t||10;var o=l(e).toRgb();return o.r=i(0,n(255,o.r-r(-t/100*255))),o.g=i(0,n(255,o.g-r(-t/100*255))),o.b=i(0,n(255,o.b-r(-t/100*255))),l(o)}function y(e,t){t=0===t?0:t||10;var o=l(e).toHsl();return o.l-=t/100,o.l=P(o.l),l(o)}function v(e,t){var o=l(e).toHsl(),s=(r(o.h)+t)%360;return o.h=s<0?360+s:s,l(o)}function k(e){var t=l(e).toHsl();return t.h=(t.h+180)%360,l(t)}function S(e){var t=l(e).toHsl(),o=t.h;return[l(e),l({h:(o+120)%360,s:t.s,l:t.l}),l({h:(o+240)%360,s:t.s,l:t.l})]}function w(e){var t=l(e).toHsl(),o=t.h;return[l(e),l({h:(o+90)%360,s:t.s,l:t.l}),l({h:(o+180)%360,s:t.s,l:t.l}),l({h:(o+270)%360,s:t.s,l:t.l})]}function T(e){var t=l(e).toHsl(),o=t.h;return[l(e),l({h:(o+72)%360,s:t.s,l:t.l}),l({h:(o+216)%360,s:t.s,l:t.l})]}function C(e,t,o){t=t||6,o=o||30;var s=l(e).toHsl(),r=360/o,n=[l(e)];for(s.h=(s.h-(r*t>>1)+720)%360;--t;)s.h=(s.h+r)%360,n.push(l(s));return n}function x(e,t){t=t||6;for(var o=l(e).toHsv(),s=o.h,r=o.s,n=o.v,i=[],a=1/t;t--;)i.push(l({h:s,s:r,v:n})),n=(n+a)%1;return i}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=A(e),this._roundA=r(100*this._a)/100,this},toHsv:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=d(this._r,this._g,this._b),t=r(360*e.h),o=r(100*e.s),s=r(100*e.v);return 1==this._a?"hsv("+t+", "+o+"%, "+s+"%)":"hsva("+t+", "+o+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var e=c(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=c(this._r,this._g,this._b),t=r(360*e.h),o=r(100*e.s),s=r(100*e.l);return 1==this._a?"hsl("+t+", "+o+"%, "+s+"%)":"hsla("+t+", "+o+"%, "+s+"%, "+this._roundA+")"},toHex:function(e){return u(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return h(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(100*M(this._r,255))+"%",g:r(100*M(this._g,255))+"%",b:r(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+r(100*M(this._r,255))+"%, "+r(100*M(this._g,255))+"%, "+r(100*M(this._b,255))+"%)":"rgba("+r(100*M(this._r,255))+"%, "+r(100*M(this._g,255))+"%, "+r(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(L[u(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+h(this._r,this._g,this._b,this._a),o=t,s=this._gradientType?"GradientType = 1, ":"";e&&(o=l(e).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+t+",endColorstr="+o+")"},toString:function(e){var t=!!e;e=e||this._format;var o=!1,s=this._a<1&&this._a>=0;return t||!s||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"name"!==e?("rgb"===e&&(o=this.toRgbString()),"prgb"===e&&(o=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(o=this.toHexString()),"hex3"===e&&(o=this.toHexString(!0)),"hex8"===e&&(o=this.toHex8String()),"name"===e&&(o=this.toName()),"hsl"===e&&(o=this.toHslString()),"hsv"===e&&(o=this.toHsvString()),o||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(e,t){var o=e.apply(null,[this].concat([].slice.call(t)));return this._r=o._r,this._g=o._g,this._b=o._b,this.setAlpha(o._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(v,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},l.fromRatio=function(e,t){if("object"==typeof e){var o={};for(var s in e)e.hasOwnProperty(s)&&(o[s]="a"===s?e[s]:R(e[s]));e=o}return l(e,t)},l.equals=function(e,t){return!(!e||!t)&&l(e).toRgbString()==l(t).toRgbString()},l.random=function(){return l.fromRatio({r:a(),g:a(),b:a()})},l.mix=function(e,t,o){o=0===o?0:o||50;var s,r=l(e).toRgb(),n=l(t).toRgb(),i=o/100,a=2*i-1,c=n.a-r.a,d=1-(s=((s=a*c==-1?a:(a+c)/(1+a*c))+1)/2),u={r:n.r*s+r.r*d,g:n.g*s+r.g*d,b:n.b*s+r.b*d,a:n.a*i+r.a*(1-i)};return l(u)},l.readability=function(e,t){var o=l(e),s=l(t),r=o.toRgb(),n=s.toRgb(),i=o.getBrightness(),a=s.getBrightness(),c=Math.max(r.r,n.r)-Math.min(r.r,n.r)+Math.max(r.g,n.g)-Math.min(r.g,n.g)+Math.max(r.b,n.b)-Math.min(r.b,n.b);return{brightness:Math.abs(i-a),color:c}},l.isReadable=function(e,t){var o=l.readability(e,t);return o.brightness>125&&o.color>500},l.mostReadable=function(e,t){for(var o=null,s=0,r=!1,n=0;n<t.length;n++){var i=l.readability(e,t[n]),a=i.brightness>125&&i.color>500,c=i.brightness/125*3+i.color/500;(a&&!r||a&&r&&c>s||!a&&!r&&c>s)&&(r=a,s=c,o=l(t[n]))}return o};var _=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},L=l.hexNames=function(e){var t={};for(var o in e)e.hasOwnProperty(o)&&(t[e[o]]=o);return t}(_);function A(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function M(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var o=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=n(t,i(0,parseFloat(e))),o&&(e=parseInt(e*t,10)/100),s.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function P(e){return n(1,i(0,e))}function E(e){return parseInt(e,16)}function q(e){return 1==e.length?"0"+e:""+e}function R(e){return e<=1&&(e=100*e+"%"),e}var B,I,$,H=(I="[\\s|\\(]+("+(B="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+B+")[,|\\s]+("+B+")\\s*\\)?",$="[\\s|\\(]+("+B+")[,|\\s]+("+B+")[,|\\s]+("+B+")[,|\\s]+("+B+")\\s*\\)?",{rgb:new RegExp("rgb"+I),rgba:new RegExp("rgba"+$),hsl:new RegExp("hsl"+I),hsla:new RegExp("hsla"+$),hsv:new RegExp("hsv"+I),hsva:new RegExp("hsva"+$),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=l}(),e(function(){e.fn.spectrum.load&&e.fn.spectrum.processNativeColorInputs()})});const themes=document.querySelectorAll(".theme"),body=document.querySelector("body"),themeColor=document.querySelectorAll(".dark-color"),themeBackground=document.querySelectorAll(".dark-"),themeBorder=document.querySelectorAll(".dark-border");let themeActive=document.querySelector(".dark-active");const themeTitle=document.querySelector(".dark-title"),themeWarningBackground=document.querySelector(".theme-warning-background"),acceptRestart=document.querySelector("#accept-restart"),declineRestart=document.querySelector("#decline-restart");let customValueBody,customValueContent;const applyCustomTheme=document.querySelector("#apply-custom-theme");let customThemeActive=!1;function colorPicker(){$("#color-picker-body").spectrum({color:"#9032e0",showInput:!0,showInitial:!0,showAlpha:!0,preferredFormat:"hex"}),$("#color-picker-content").spectrum({color:"#57dca3",showInput:!0,showInitial:!0,showAlpha:!0,preferredFormat:"hex"}),customValueBody=$("#color-picker-body").spectrum("get"),customValueContent=$("#color-picker-content").spectrum("get"),$("#color-picker-body").on("change.spectrum",()=>{customValueBody=$("#color-picker-body").spectrum("get")}),$("#color-picker-content").on("change.spectrum",()=>{customValueContent=$("#color-picker-content").spectrum("get")}),applyCustomTheme.addEventListener("click",()=>{timerStarted||pomodorosCount>=1?timerRestartThemeCustom(acceptRestart,declineRestart,themeWarningBackground,customValueBody,customValueContent):(customThemeActive=!0,customThemeChanger(customValueBody,customValueContent),breakSelected&&titleBorderColor(!0))})}function customThemeChanger(e,t){body.setAttribute("style",`background-color: ${e}; color: ${t};`),themeColor.forEach(e=>{e.setAttribute("style",`color: ${t};`)}),themeBorder.forEach(e=>{e.setAttribute("style",`border-color: ${t}`)}),breakSelected?breakTitle.setAttribute("style",`background: linear-gradient(to right, ${t}, ${t}) no-repeat; background-size: 100% 1.5px; background-position: left bottom`):sessionTitle.setAttribute("style",`background: linear-gradient(to right, ${t}, ${t}) no-repeat; background-size: 100% 1.5px; background-position: left bottom`),themeTitle.setAttribute("style",`color: ${t}`),pomodoros.forEach(e=>{e.setAttribute("style",`border-color: ${t}`)}),hideModalSettings(modalSettings,settings)}function removeCustomTheme(e=!1){e&&(customThemeActive=!1),body.style.backgroundColor="",body.style.color="",themeColor.forEach(e=>{e.style.color=""}),themeBorder.forEach(e=>{e.style.borderColor=""}),breakTitle.style.background="",themeActive.style.background="",themeActive.style.backgroundSize="",themeActive.style.backgroundPosition="",themeTitle.style.color="",pomodoros.forEach(e=>{e.style.borderColor="",e.style.backgroundColor=""})}function timerRestartTheme(e,t,o,s){o.style.display="block",e.addEventListener("click",()=>{stopTimerHard(stop,sessionSeconds),executeChangeTheme(s,themeColor,themeBorder,themeActive,themeTitle,pomodoros,modalSettings),customThemeActive&&removeCustomTheme(!0),sessionTimeSelected=!0,breakTimeSelected=!1,breakSelected=!1,o.style.display="none"}),t.addEventListener("click",()=>{o.style.display="none"}),window.addEventListener("click",function(e){e.target===o&&(o.style.display="none")})}function timerRestartThemeCustom(e,t,o,s,r){o.style.display="block",e.addEventListener("click",()=>{customThemeActive=!0,removeCustomTheme(!1),stopTimerHard(stop,sessionSeconds),sessionTimeSelected=!0,breakTimeSelected=!1,breakSelected=!1,customThemeChanger(s,r),titleBorderColor(!0),o.style.display="none"}),t.addEventListener("click",()=>{o.style.display="none"}),window.addEventListener("click",function(e){e.target===o&&(o.style.display="none")})}function changeTheme(e){e.forEach(e=>{e.addEventListener("click",function(){timerStarted||pomodorosCount>=1?timerRestartTheme(acceptRestart,declineRestart,themeWarningBackground,e):(customThemeActive&&removeCustomTheme(!0),setTimeout(()=>{breakSelected&&titleBorderColor(!1)},0),executeChangeTheme(e,themeColor,themeBorder,themeActive,themeTitle,pomodoros,modalSettings))})})}function titleBorderColor(e){if(customThemeActive||e)e&&(customThemeSwitch=!breakSelected,sessionTitle.classList="",breakTitle.classList="");else{let e=sessionTitle.classList[sessionTitle.classList.length-1];breakTitle.classList="",breakTitle.classList.add(e),sessionTitle.classList=""}}function executeChangeTheme(e,t,o,s,r,n,i){body.classList="",body.classList.add(e.classList[1]),t.forEach(t=>{t.classList.remove(t.classList[t.classList.length-1]),t.classList.add(`${e.classList[1]}-color`)}),o.forEach(t=>{t.classList.remove(t.classList[t.classList.length-1]),t.classList.add(`${e.classList[1]}-border`)}),s.classList.remove(s.classList[s.classList.length-1]),s.classList.add(`${e.classList[1]}-active`),s=document.querySelector(`.${e.classList[1]}-active`),r.classList.remove(r.classList[r.classList.length-1]),r.classList.add(`${e.classList[1]}-title`),n.forEach(t=>{t.classList="",t.classList.add("pomodoro",`${e.classList[1]}-border`)}),hideModalSettings(i,settings)}function mainThemes(){changeTheme(themes),colorPicker()}window.onload=mainThemes();
//# sourceMappingURL=bundle.min.js.map
